KISSY.add("kg/effect-popup/1.0.0/index",["node"],function(e,o,n,t){var c,i=o("node");c=function(o){function n(o){function n(e){void 0===i&&(i=t('<div class="'+l.o.containerClass+'">'),s=t(l.o.markup).appendTo(i),a=t(l.o.closeContent).on("click",function(){l.close()}).appendTo(i),t(window).on("resize",l.center),i.appendTo(t("body")),l.container=i),i.css({opacity:0,transform:"scale(0)"}),s.css("width",l.width||""),s.css("height",l.height||""),s.html(e),l.center(),i.animate({opacity:1,transform:"scale(1)"},l.o.speed,"backOut",function(){l.o.afterOpen.call(l)})}var c,i,a,s,l=this,d={backClass:"popup_back",backOpacity:.7,containerClass:"popup_cont",closeContent:'<div class="popup_close">&times;</div>',markup:'<div class="popup"></div>',speed:.3,modal:!1,width:null,height:null,beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}};l.container=void 0,l.o=e.merge(d,o),l.open=function(e){void 0===c&&(c=t('<div class="'+l.o.backClass+'"/>').appendTo(t("body")),l.o.modal&&c.on("click",function(){l.close()})),c.css("opacity",0).show().animate({opacity:l.o.backOpacity},l.o.speed),l.width=l.o.width?l.o.width:null,l.height=l.o.height?l.o.height:null,l.o.beforeOpen.call(l),n(e)},l.center=function(){return i.css(l.getCenter()),c.css({height:document.documentElement.clientHeight}),l},l.getCenter=function(){var e=i.children().outerWidth(!0),o=i.children().outerHeight(!0),n=document.documentElement.clientWidth,t=document.documentElement.clientHeight;return{top:.5*t-.5*o,left:.5*n-.5*e}},l.close=function(){return l.o.beforeClose.call(l),void 0!==c&&void 0!==i&&(i.animate({opacity:0,transform:"scale(0)"},l.o.speed,"easeInStrong",function(){}),c.animate({opacity:0},l.o.speed,"easeNone",function(){c.hide(),l.o.afterClose.call(l)})),l},l.cleanUp=function(){return c.add(i).remove(),t(window).detach("resize",l.center),l}}var t=i.all;return o=n}(),t.exports=c});